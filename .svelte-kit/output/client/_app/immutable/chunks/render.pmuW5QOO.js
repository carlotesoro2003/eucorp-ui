import{ak as m,af as D,al as H,aj as L,am as v,a0 as h,W as E,X as O,a1 as _,ag as I,an as Y,ao as j,ac as k,Z as C,ap as M,T as S,a4 as V,p as W,H as w,x as $,a as q,aq as X}from"./runtime.g0my00JR.js";import{b as Z,r as N,h as p,f as z}from"./utils.sCj8HAia.js";import{d as B}from"./disclose-version.CM6f1PTD.js";function P(a,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=n,a.nodeValue=n==null?"":n+"")}function F(a,e){return b(a,e)}function Q(a,e){m(),e.intro=e.intro??!1;const n=e.target,l=w,u=_;try{for(var t=D(n);t&&(t.nodeType!==8||t.data!==H);)t=L(t);if(!t)throw v;h(!0),E(t),O();const i=b(a,{...e,anchor:t});if(_===null||_.nodeType!==8||_.data!==I)throw Y(),v;return h(!1),i}catch(i){if(i===v)return e.recover===!1&&j(),m(),k(n),h(!1),F(a,e);throw i}finally{h(l),E(u)}}const o=new Map;function b(a,{target:e,anchor:n,props:l={},events:u,context:t,intro:i=!0}){m();var y=new Set,g=d=>{for(var r=0;r<d.length;r++){var s=d[r];if(!y.has(s)){y.add(s);var f=z(s);e.addEventListener(s,p,{passive:f});var R=o.get(s);R===void 0?(document.addEventListener(s,p,{passive:f}),o.set(s,1)):o.set(s,R+1)}}};g(C(Z)),N.add(g);var c=void 0,A=M(()=>{var d=n??e.appendChild(S());return V(()=>{if(t){W({});var r=X;r.c=t}u&&(l.$$events=u),w&&B(d,null),c=a(d,l)||{},w&&($.nodes_end=_),t&&q()}),()=>{var f;for(var r of y){e.removeEventListener(r,p);var s=o.get(r);--s===0?(document.removeEventListener(r,p),o.delete(r)):o.set(r,s)}N.delete(g),T.delete(c),d!==n&&((f=d.parentNode)==null||f.removeChild(d))}});return T.set(c,A),c}let T=new WeakMap;function U(a){const e=T.get(a);e&&e()}export{Q as h,F as m,P as s,U as u};
